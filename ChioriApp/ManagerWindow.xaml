<Window x:Class="ChioriApp.ManagerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Менеджер — Чиори" Height="500" Width="800">
    <Grid Margin="10">
        <TabControl>
            <TabItem Header="Заказы">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,10">
                        <Button Content="Обновить список" Click="BtnRefreshOrders_Click" Padding="8,4"/>
                        <Button Content="Личный кабинет" Click="BtnCabinet_Click" Padding="8,4" Margin="10,0,0,0"/>
                    </StackPanel>
                    <DataGrid x:Name="dgOrders"
                              Grid.Row="1"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              CanUserAddRows="False"
                              SelectionUnit="FullRow">
                        <DataGrid.Resources>
                            <ContextMenu x:Key="OrdersContextMenu">
                                <MenuItem Header="Просмотреть" Click="ViewOrder_Click"/>
                                <MenuItem Header="Редактировать" Click="BtnEditOrder_Click"/>
                            </ContextMenu>
                        </DataGrid.Resources>
                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow">
                                <Setter Property="ContextMenu" Value="{StaticResource OrdersContextMenu}"/>
                            </Style>
                        </DataGrid.RowStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="№" Binding="{Binding OrderNumber}" Width="100"/>
                            <DataGridTextColumn Header="Клиент" Binding="{Binding ClientFullName}" Width="200"/>
                            <DataGridTextColumn Header="Телефон" Binding="{Binding ContactPhone}" Width="120"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding ContactEmail}" Width="180"/>
                            <DataGridTextColumn Header="Адрес" Binding="{Binding DeliveryAddress}" Width="200"/>
                            <DataGridTextColumn Header="Сумма" Binding="{Binding FinalAmount, StringFormat=F2}" Width="80"/>
                            <DataGridTextColumn Header="Статус" Binding="{Binding StatusId}" Width="70"/>
                            <DataGridTextColumn Header="Оплата" Binding="{Binding PaymentMethodId}" Width="70"/>
                            <DataGridTextColumn Header="Доставка" Binding="{Binding DeliveryMethodId}" Width="80"/>
                            <DataGridTextColumn Header="Дата" Binding="{Binding OrderDate, StringFormat=d}" Width="90"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Товары">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="68*"/>
                        <ColumnDefinition Width="319*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10" Grid.ColumnSpan="2">
                        <Button Content="Добавить товар" Click="BtnAddProduct_Click" Padding="8,4" Margin="0,0,10,0"/>
                        <Button Content="Обновить список" Click="BtnRefreshProducts_Click" Padding="8,4"/>
                    </StackPanel>
                    <DataGrid x:Name="dgProducts"
                              Grid.Row="1"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              CanUserAddRows="False"
                              SelectionUnit="FullRow" Grid.ColumnSpan="2">
                        <DataGrid.Resources>
                            <ContextMenu x:Key="ProductsContextMenu">
                                <MenuItem Header="Редактировать" Click="BtnEditProduct_Click"/>
                                <MenuItem Header="Удалить" Click="BtnDeleteProduct_Click" Foreground="Red"/>
                            </ContextMenu>
                        </DataGrid.Resources>
                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow">
                                <Setter Property="ContextMenu" Value="{StaticResource ProductsContextMenu}"/>
                            </Style>
                        </DataGrid.RowStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding ProductId}" Width="50"/>
                            <DataGridTextColumn Header="Артикул" Binding="{Binding Article}" Width="100"/>
                            <DataGridTextColumn Header="Название" Binding="{Binding Name}" Width="200"/>
                            <DataGridTextColumn Header="Описание" Binding="{Binding Description}" Width="200"/>
                            <DataGridTextColumn Header="Цена" Binding="{Binding RecommendedPrice, StringFormat=F2}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>

            <TabItem Header="Клиенты">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="76*"/>
                        <ColumnDefinition Width="66*"/>
                        <ColumnDefinition Width="633*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <Button Content="Обновить список"  Click="BtnRefreshCustomers_Click"  Padding="8,4"  HorizontalAlignment="Left" VerticalAlignment="Top" Margin="0,0,0,10"/>
                    <DataGrid x:Name="dgCustomers"
                              Grid.Row="1"
                              AutoGenerateColumns="False"
                              IsReadOnly="True"
                              CanUserAddRows="False"
                              SelectionUnit="FullRow" Grid.ColumnSpan="3">
                        <DataGrid.Resources>
                            <ContextMenu x:Key="CustomersContextMenu">
                                <MenuItem Header="Редактировать" Click="BtnEditCustomer_Click"/>
                                <MenuItem Header="Удалить" Click="BtnDeleteCustomer_Click" Foreground="Red"/>
                            </ContextMenu>
                        </DataGrid.Resources>
                        <DataGrid.RowStyle>
                            <Style TargetType="DataGridRow">
                                <Setter Property="ContextMenu" Value="{StaticResource CustomersContextMenu}"/>
                            </Style>
                        </DataGrid.RowStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding CustomerId}" Width="60"/>
                            <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}" Width="120"/>
                            <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}" Width="120"/>
                            <DataGridTextColumn Header="Отчество" Binding="{Binding Patronymic}" Width="120"/>
                            <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="180"/>
                            <DataGridTextColumn Header="Телефон" Binding="{Binding Phone}" Width="120"/>
                            <DataGridTextColumn Header="Заказы" Binding="{Binding OrderCount}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>